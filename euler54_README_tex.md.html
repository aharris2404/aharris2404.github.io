<h1>Euler Problem #54 Solution</h1>
<h2>Problem</h2>
<p><a href="https://projecteuler.net/problem=54">Project Euler Problem #54</a> asks one to read a <a href="euler54_poker.txt">large file</a> containing two players' hands in <img src="svgs/675eeb554f7b336873729327dab98036.svg?invert_in_darkmode" align=middle width=32.876837399999985pt height=21.18721440000001pt/> rounds of poker, and determine in how many of those rounds Player One had the winning hand.</p>
<h2>Solution</h2>
<p><a href="euler54.py">Here is the code.</a></p>
<h3>Brief Overview</h3>
<p>First we clean and enhance the data, storing each card in a hand as a three-digit integer where the first two digits track card rank (2 through Ace) and the final digit tracks card suit. Then we iterate over the number of rounds in the text file, checking at each stage for each player if they had: a straight flush, a flush, a straight, some configuration of cards of repeated rank (pair, triple, four-of-a-kind, two pair, or full house), or nothing at all. If Player One had a hand which outranked Player Two's, we increment our answer by one. If the hands were tied, we check the sorted hands of Player One and two to see who had the higher card, and then increment if that was Player One.</p>
<h3>Somewhat-Less-Brief Overview</h3>
<p>The solution will work in the following steps:</p>
<ol>
<li>Read the text file containing each poker hand, storing as a string.</li>
<li><em>Data cleaning</em>: Remove spaces and line breaks in the string. Convert into a list-object where the cards are split up into sets of ten (representing a round), which are in turn split up into two lists of five (representing the players in that round).</li>
<li><em>Data enhancement</em>: Convert all cards in all hands into a unique three-digit integer (which will be called an <em>NCA</em> for numerical card assignment), where the first two digits track card rank, and the last digit tracks card suit.</li>
<li>For a particular round, check each player's hand and assign a score based on what rank their hand has (0 through 8).</li>
<li>Check if the player has a straight, by sorting the hand, starting from the lowest card, and observing if all remaining cards form a straight (simple to do by taking each NCA and performing <code>NCA // 10</code>).</li>
<li>Check if the player has a flush by checking if all the NCA's have the same last digit (i.e. <code>NCA1 % 10 == NCA2 % 10 == ... == NCA5 % 10</code>)</li>
<li>Assign a score of 8 if the player has a straight flush, a score of 5 if the player has a flush, and a score of 4 if the player has a straight.</li>
<li>If at least one player has neither a straight nor flush, check if the player has a pair, two pair, three-of-a-kind, full house, or four-of-a-kind. This is easy to do by sorting the hand and checking whether, for example, <code>hand[i] == hand[i + 1]</code>. Assign a score of 7 for four-of-a-kind, 6 for full house, 3 for three-of-a-kind, 2 for two pair, 1 for a pair, and 0 otherwise.</li>
<li>If players have the same score, check who has the tiebreaking high card by iterating through the sorted hands until one card is decisive over the other.</li>
<li>If player one won the hand, increment the answer by one.</li>
<li>Loop through steps 4-10 for the number of hands.</li>
<li>Return the number of hands won by player one.</li>
</ol>
<h3>Solution Advantages</h3>
<ul>
<li>Adheres to black-box paradigm</li>
<li>Generalizable for different numbers of hands than 1000</li>
<li>Fast runtime which scales linearly with number of hands</li>
</ul>
<h3>Solution Disadvantages</h3>
<ul>
<li>Over 100 lines of code</li>
<li>Not generalizable for different numbers of players (though could be with some simple modifications)</li>
<li>Not "smart" enough to clean data in a different format than the specific format used in the provided text file</li>
</ul>
<h3>Time Complexity</h3>
<p>Let <img src="svgs/55a049b8f161ae7cfeb0197d75aff967.svg?invert_in_darkmode" align=middle width=9.86687624999999pt height=14.15524440000002pt/> be the number of rounds provided.</p>
<p>Since the data-cleaning process iterates over the number of rounds and involves constant-time removal of spaces and linebreaks, and concludes with constant-time assignment of each card to an integer, that phase runs in <img src="svgs/1f08ccc9cd7309ba1e756c3d9345ad9f.svg?invert_in_darkmode" align=middle width=35.64773519999999pt height=24.65753399999998pt/> time.</p>
<p>For specifically two players with hands of five cards, all the per-hand checks which score the hands and break ties run in constant time. Thus, scoring all the rounds runs in <img src="svgs/1f08ccc9cd7309ba1e756c3d9345ad9f.svg?invert_in_darkmode" align=middle width=35.64773519999999pt height=24.65753399999998pt/> time.</p>
<p>Thus the total runtime is <img src="svgs/1f08ccc9cd7309ba1e756c3d9345ad9f.svg?invert_in_darkmode" align=middle width=35.64773519999999pt height=24.65753399999998pt/>.</p>
<h2>Results</h2>
<p>For the case given in the problem, this code produces the correct result that Player One won <img src="svgs/ec743f6dfc0334fc2b308bc46ade48bc.svg?invert_in_darkmode" align=middle width=24.657628049999992pt height=21.18721440000001pt/> hands in total. On my machine, it runs in under one second.</p>